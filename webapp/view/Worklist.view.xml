<mvc:View
	controllerName="mycompany.myapp.controller.Worklist"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.m.semantic"
	xmlns:f="sap.f"
	xmlns:layout="sap.ui.layout"
	xmlns="sap.m">
	<f:DynamicPage id="dynamicPageId" headerExpanded="{/headerExpanded}" toggleHeaderOnTitleClick="{/titleClickable}">
			<!-- DynamicPage Title -->
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="Header Title"/>
					</f:heading>

					<f:expandedContent>
						<Text text="This is a subheading"/>
					</f:expandedContent>
					<f:snappedContent>
						<Text text="This is a subheading"/>
					</f:snappedContent>
					<f:actions>
						<Button
								text="Edit"
								type="Emphasized"
								press="toggleAreaPriority"/>
						<Button
								text="Delete"
								type="Transparent"/>
						<Button
								text="Copy"
								type="Transparent"/>
						<Button
								text="Toggle Footer"
								type="Transparent"
								press="onToggleFooter"/>
						<Button
								icon="sap-icon://action"
								type="Transparent"/>
					</f:actions>
					<f:navigationActions>
						<Button
								icon="sap-icon://full-screen"
								type="Transparent" />
						<Button
								icon="sap-icon://exit-full-screen"
								type="Transparent" />
						<Button
								icon="sap-icon://decline"
								type="Transparent" />
					</f:navigationActions>
				</f:DynamicPageTitle>
			</f:title>
			<!-- DynamicPage Header -->
			<f:header>
				<f:DynamicPageHeader pinnable="true">
					<f:content>
						<FlexBox
								alignItems="Start"
								justifyContent="SpaceBetween">
							<items>
								<Panel
										backgroundDesign="Transparent"
										class="sapUiNoContentPadding sapUiSmallMarginTop">
									<content>
										<layout:HorizontalLayout
												allowWrapping="true">
											<layout:VerticalLayout
													class="sapUiMediumMarginEnd">
												<ObjectAttribute title="Location" text="Warehouse A"/>
												<ObjectAttribute title="Halway" text="23L"/>
												<ObjectAttribute title="Rack" text="34"/>
											</layout:VerticalLayout>
											<layout:VerticalLayout>
												<ObjectAttribute title="Availability"/>
												<ObjectStatus text="In Stock" state="Success" />
											</layout:VerticalLayout>
										</layout:HorizontalLayout>
									</content>
								</Panel>
							</items>
						</FlexBox>
					</f:content>
				</f:DynamicPageHeader>
			</f:header>
			<f:content>
					<Table
							id="table"
							busyIndicatorDelay="{worklistView>/tableBusyDelay}"
							class="sapUiResponsiveMargin sapUiNoMarginTop"
							growing="true"
							growingScrollToLoad="true"
							noDataText="{worklistView>/tableNoDataText}"
							updateFinished="onUpdateFinished"
							width="auto"
							items="{
								path: 'Mines>/',
								sorter: {
									path: 'ProductName',
									descending: false
								},
								parameters: {
									'expand': 'Supplier'
								}
							}">
						<headerToolbar>
							<Toolbar>
								<Title
										id="tableHeader"
										text="{worklistView>/worklistTableTitle}"/>
								<ToolbarSpacer/>
								<SearchField
										id="searchField"
										search="onSearch"
										tooltip="{i18n>worklistSearchTooltip}"
										width="auto"/>
							</Toolbar>
						</headerToolbar>
						<columns>
							<Column id="nameColumn">
								<Text
										id="nameColumnTitle"
										text="{i18n>TableNameColumnTitle}"/>
							</Column>
							<Column
									id="locationColumn"
									demandPopin="false"
									minScreenWidth="Tablet">
								<Text text="{i18n>TableLocationColumnTitle}"/>
							</Column>
							<Column
									id="workersColumn"
									hAlign="End"
									demandPopin="true"
									minScreenWidth="Tablet">
								<Text text="{i18n>TableWorkersColumnTitle}"/>
							</Column>
							<Column id="vehiclesColumn"
									demandPopin="true"
									minScreenWidth="Tablet"
									hAlign="End">
								<Text text="{i18n>TableVehiclesColumnTitle}"/>
							</Column>
							<Column id="rawValuePerDayColumn"
									hAlign="End">
								<Text text="{i18n>TableRawValuePerDayColumnTitle}"/>
							</Column>
						</columns>
						<items>
							<ColumnListItem
									press="onPress"
									type="Navigation">
								<cells>
									<ObjectIdentifier
											title="{Mines>MineName}"/>
									<ObjectIdentifier
											title="{Mines>Location}"/>
									<ObjectNumber
											number="{Mines>Workers}"
											unit="PC"/>
									<ObjectNumber
											number="{Mines>Vehicles}"
											unit="PC"/>
									<ObjectNumber
											number="{Mines>RawValuePerDay}"
											unit="M^3"/>

								</cells>
							</ColumnListItem>
						</items>
					</Table>

			</f:content>
			<!-- DynamicPage Footer -->
			<f:footer>
				<OverflowToolbar>
					<Button icon="sap-icon://message-popup"
							text="{/messagesLength}"
							type="Emphasized"
							press="onMessageButtonPress"
							visible="{= !!${/messagesLength}}"/>
					<ToolbarSpacer/>
					<Button type="Accept" text="Accept"/>
					<Button type="Reject" text="Reject"/>
				</OverflowToolbar>
			</f:footer>
		</f:DynamicPage>
</mvc:View>